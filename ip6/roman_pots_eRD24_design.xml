<?xml version="1.0" encoding="UTF-8"?>
<lccdd>
  <define>
    <comment>
      ---------------------------------
      Roman Pots Implementation from eRD24 R&D Effort
      Author: Alex Jentsch
      Date of first commit: June 15th, 2021
      ---------------------------------
    </comment>
    
    
    <constant name="ForwardRomanPotB_zpos" value="B2PF_CenterPosition - B2PF_Length/2.0 - 20.0*cm"/>
    <constant name="ForwardRomanPotB_xpos" value="B2PF_XPosition "/>

    <constant name="RomanPotStation1_insertionPosition" value="0.0*cm"/>
  </define>


  <detectors>
    <detector 
      id="ForwardRomanPot_Station_1_ID"
      name="ForwardRomanPot_Station_1"
      readout="ForwardRomanPotHits" 
      type="ip6_ForwardRomanPot"
      insideTrackingVolume="true"
      reflect="false"
      vis="AnlRed">
    <position x="842.2*mm" y="0" z="26000*mm" />
	<rotation x="0" y="0.047*rad" z="0" />
    <module name="Module1" vis="AnlYellow" nx="2" ny="2" width="32.0*mm" height="32.0*mm">
      <module_component material="SiliconOxide" thickness="301.0*um" sensitive="true"/>
      <module_component material="Copper"       thickness="20.0*um"  />
    </module>
    <module_assembly name="Station1Top">
      <array nx=2 ny=2 module="Module1" width="6.4*cm" height="6.4*cm">
        <position x="12.8*cm/2.0 + 6.4*cm/2.0" y="4*cm"/>
      </array>
      <array nx=2 ny=2 module="Module1" width="6.4*cm" height="6.4*cm">
        <position x="-(12.8*cm/2.0 + 6.4*cm/2.0)" y="4*cm"/>
      </array>
      <array nx=4 ny=2 module="Module1" width="12.8*cm" height="6.4*cm"> 
        <position x="0" y="6*cm"/>
      </array>
    </module_assembly>
    <module_assembly name="Station1Bottom">
      <array nx=2 ny=2 module="Module1" width="6.4*cm" height="6.4*cm"> 
        <position x="12.8*cm/2.0 + 6.4*cm/2.0" y="-4*cm"/>
      </array>
      <array nx=2 ny=2 module="Module1" width="6.4*cm" height="6.4*cm"> 
        <position x="-(12.8*cm/2.0 + 6.4*cm/2.0)" y="-4*cm"/>
      </array>
      <array nx=4 ny=2 module="Module1" width="12.8*cm" height="6.4*cm"> 
        <position x="0" y="-6*cm"/>
      </array>
    </module_assembly>

    <layer id="1">
      <position x="0" y="0" z="-5.0*cm"/>
      <component assembly="Station1Top">
        <position x="0" y="0" z="-RomanPotStation1_insertionPosition"/>
      </component>
      <component assembly="Station1Bottom">
        <position x="0" y="0" z="RomanPotStation1_insertionPosition"/>
      </component>
    </layer>
    <layer id="2">
      <position x="0" y="0" z="5.0*cm"/>
      <component assembly="Station1Top">
        <position x="0" y="0" z="-RomanPotStation1_insertionPosition"/>
      </component>
      <component assembly="Station1Bottom">
        <position x="0" y="0" z="RomanPotStation1_insertionPosition"/>
      </component>
    </layer>

  </detector>

  <detector
      id="ForwardRomanPot_Station_2_ID"
      name="ForwardRomanPot_Station_2"
      readout="ForwardRomanPotHits"
      type="ip6_ForwardRomanPot"
      insideTrackingVolume="true"
      reflect="false"
      vis="AnlRed">
    <position x="900.2*mm" y="0" z="28000*mm" />
	<rotation x="0" y="0.047*rad" z="0" />
    <module name="Module1" vis="AnlYellow" nx="2" ny="2" width="32.0*mm" height="32.0*mm">
      <module_component material="SiliconOxide" thickness="301.0*um" sensitive="true"/>
      <module_component material="Copper"       thickness="20.0*um"  />
    </module>
    <module_assembly name="Station1Top">
      <array nx=2 ny=2 module="Module1" width="6.4*cm" height="6.4*cm">
        <position x="12.8*cm/2.0 + 6.4*cm/2.0" y="4*cm"/>
      </array>
      <array nx=2 ny=2 module="Module1" width="6.4*cm" height="6.4*cm">
        <position x="-(12.8*cm/2.0 + 6.4*cm/2.0)" y="4*cm"/>
      </array>
      <array nx=4 ny=2 module="Module1" width="12.8*cm" height="6.4*cm">
        <position x="0" y="6*cm"/>
      </array>
    </module_assembly>
    <module_assembly name="Station1Bottom">
      <array nx=2 ny=2 module="Module1" width="6.4*cm" height="6.4*cm">
        <position x="12.8*cm/2.0 + 6.4*cm/2.0" y="-4*cm"/>
      </array>
      <array nx=2 ny=2 module="Module1" width="6.4*cm" height="6.4*cm">
        <position x="-(12.8*cm/2.0 + 6.4*cm/2.0)" y="-4*cm"/>
      </array>
      <array nx=4 ny=2 module="Module1" width="12.8*cm" height="6.4*cm">
        <position x="0" y="-6*cm"/>
      </array>
    </module_assembly>
	
	<layer id="1">
      <position x="0" y="0" z="-5.0*cm"/>
      <component assembly="Station1Top">
        <position x="0" y="0" z="-RomanPotStation1_insertionPosition"/>
      </component>
      <component assembly="Station1Bottom">
        <position x="0" y="0" z="RomanPotStation1_insertionPosition"/>
      </component>
    </layer>
    <layer id="2">
      <position x="0" y="0" z="5.0*cm"/>
      <component assembly="Station1Top">
        <position x="0" y="0" z="-RomanPotStation1_insertionPosition"/>
      </component>
      <component assembly="Station1Bottom">
        <position x="0" y="0" z="RomanPotStation1_insertionPosition"/>
      </component>
    </layer>
  </detector>


</detectors>




  <readouts>
    <readout name="ForwardRomanPotHits">
      <segmentation type="CartesianGridXY" grid_size_x="0.5*mm" grid_size_y="0.5*mm" />
      <id>system:8,assembly:3,layer:4,module:4,sensor:4,x:32:-16,y:-16</id>  
    </readout>
  </readouts>

</lccdd>

